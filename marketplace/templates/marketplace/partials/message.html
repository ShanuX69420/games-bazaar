{% load time_filters %}

{% if message.is_system_message %}
    <div class="mb-3">
        <div class="d-flex justify-content-between">
            <div><strong>Gamers Market</strong><span class="badge bg-primary ms-1">notification</span></div>
            <small class="text-muted">{{ message.timestamp|smart_time }}</small>
        </div>
        <div class="p-2 mt-1" style="background-color: #eef2fa; border-left: 3px solid #0d6efd; color: #445d89;">
            <i class="fas fa-info-circle me-1"></i>
            {{ message.content|linebreaksbr }}
        </div>
    </div>
{% else %}
    <div class="mb-3">
        <div class="d-flex justify-content-between">
            <strong>{{ message.sender.username }}</strong>
            <small class="text-muted">{{ message.timestamp|smart_time }}</small>
        </div>
        <p class="mb-0 text-break">{{ message.content|linebreaksbr }}</p>
    </div>
{% endif %}