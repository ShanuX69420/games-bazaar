{% load time_filters %}

<div class="d-flex align-items-center mb-3">
    <img src="https://i.imgur.com/v8Ld3iI.png" alt="{{ other_user.username }}" width="40" height="40" class="rounded-circle me-3">
    <div>
        <h5 class="mb-0">{{ other_user.username }}</h5>
        
        {# This small tag now has a unique ID for real-time updates #}
        <small id="status-chat-{{ other_user.username }}" class="{% if other_user.profile.is_online %}text-success{% else %}text-muted{% endif %}">
            {% if other_user.profile.is_online %}
                Online
            {% elif other_user.profile.last_seen %}
                was active {{ other_user.profile.last_seen|timesince }} ago
            {% endif %}
        </small>
    </div>
</div>